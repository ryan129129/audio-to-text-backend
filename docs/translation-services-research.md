# 翻译服务调研

本文档记录各翻译服务的对比分析，为后续实现翻译功能做准备。

## 当前架构

```
YouTube URL
    │
    ▼
Supadata 转录
    │
    ▼
GPT-4o-mini 合并
    │
    ▼
保存结果
```

**翻译可以在哪个环节加入？**

1. **GPT-4o-mini 合并时顺便翻译** - 当前代码已支持，传入 `language` 参数即可
2. **单独的翻译步骤** - 合并后再调用翻译 API

---

## 翻译服务对比

### 1. OpenAI GPT（当前已集成）

| 项目 | 说明 |
|------|------|
| **模型** | GPT-4o-mini / GPT-4o |
| **定价** | GPT-4o-mini: $0.15/百万 input tokens, $0.60/百万 output tokens |
| **优点** | 已集成、可同时合并+翻译、上下文理解强 |
| **缺点** | 长文本成本较高 |
| **适合** | 中短文本、需要上下文理解的翻译 |

### 2. DeepL

| 项目 | 说明 |
|------|------|
| **API** | https://www.deepl.com/pro-api |
| **定价** | Free: 50万字符/月；Pro: $5.49/月 + $25/百万字符 |
| **优点** | 翻译质量顶尖（尤其欧洲语言）、速度快 |
| **缺点** | 中文支持一般、按字符计费 |
| **适合** | 欧洲语言互译、高质量需求 |

### 3. Google Cloud Translation

| 项目 | 说明 |
|------|------|
| **API** | Cloud Translation API (Basic / Advanced) |
| **定价** | Basic: $20/百万字符；Advanced: $80/百万字符 |
| **优点** | 支持语言最多（130+）、稳定可靠 |
| **缺点** | 质量中等、价格较高 |
| **适合** | 多语言支持需求 |

### 4. Azure Translator

| 项目 | 说明 |
|------|------|
| **API** | Azure Cognitive Services Translator |
| **定价** | Free: 200万字符/月；S1: $10/百万字符 |
| **优点** | 性价比高、质量不错 |
| **缺点** | 需要 Azure 账号 |
| **适合** | 已使用 Azure 的项目 |

### 5. Amazon Translate

| 项目 | 说明 |
|------|------|
| **API** | Amazon Translate |
| **定价** | $15/百万字符 |
| **优点** | AWS 生态集成好 |
| **缺点** | 质量一般 |
| **适合** | 已使用 AWS 的项目 |

### 6. 百度翻译

| 项目 | 说明 |
|------|------|
| **API** | 百度翻译开放平台 |
| **定价** | 标准版免费（QPS限制）；高级版 ¥49/百万字符 |
| **优点** | 中文翻译质量好、价格便宜 |
| **缺点** | 海外访问可能受限 |
| **适合** | 中文相关翻译 |

### 7. 有道翻译

| 项目 | 说明 |
|------|------|
| **API** | 有道智云翻译 |
| **定价** | ¥48/百万字符 |
| **优点** | 中文翻译质量好 |
| **缺点** | 海外访问可能受限 |
| **适合** | 中文相关翻译 |

---

## 质量对比（主观评估）

| 服务 | 中→英 | 英→中 | 日→中 | 欧洲语言 |
|------|-------|-------|-------|----------|
| GPT-4o | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| DeepL | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| Google | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| Azure | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 百度 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## 成本对比（10分钟视频，约2000字）

| 服务 | 成本估算 |
|------|----------|
| GPT-4o-mini | ~$0.01 |
| DeepL Pro | ~$0.05 |
| Google Basic | ~$0.04 |
| Azure S1 | ~$0.02 |
| 百度高级版 | ~¥0.10 |

---

## 建议方案

### 方案 A：继续使用 GPT-4o-mini（推荐）

当前已集成，合并 + 翻译一步完成：

```typescript
const segments = await this.openAIService.mergeTranscriptSegments(rawSegments, {
  language: 'zh',  // 翻译成中文
});
```

**优点**：无需额外集成、一步完成、质量高
**缺点**：长文本成本较高

### 方案 B：专用翻译 API

如果翻译量大，可以考虑：

1. **中文相关**：百度翻译（性价比高）
2. **多语言**：DeepL（质量最好）或 Google（语言最多）

### 方案 C：混合方案

- 短文本（<5000字）：GPT-4o-mini
- 长文本（>5000字）：专用翻译 API

---

## 待验证

- [ ] 实际测试各服务的翻译质量
- [ ] 测试字幕场景下的翻译效果（短句、口语化）
- [ ] 对比翻译延迟
- [ ] 评估不同语言对的翻译质量

---

## 更新日志

- **2025-12-24**：创建文档，记录各翻译服务对比
